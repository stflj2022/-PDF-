# PDF 重排工具 - 打包方案对比

## 三种打包方案

| 方案 | 优点 | 缺点 | 文件大小 | 推荐度 |
|------|------|------|---------|--------|
| **PyInstaller** | 简单快速，单文件 | 需要目标系统安装依赖 | ~50-80MB | ⭐⭐⭐⭐ |
| **AppImage** | 完全独立，包含所有依赖 | 打包复杂，文件很大 | ~150-250MB | ⭐⭐⭐ |
| **源码+安装脚本** | 最小，灵活 | 需要用户手动安装依赖 | ~1MB | ⭐⭐⭐⭐⭐ |

---

## 方案1：PyInstaller 单文件（推荐）

### 优点
- 打包简单，一键生成
- 单一可执行文件，方便分发
- 启动时自动解压到临时目录

### 缺点
- 目标系统仍需安装系统依赖：
  ```bash
  sudo apt install poppler-utils tesseract-ocr tesseract-ocr-chi-sim
  ```

### 使用方法
```bash
./build.sh
# 生成：dist/pdf-retypeset (~50-80MB)
```

---

## 方案2：AppImage（完全独立）

### 优点
- 完全独立，包含所有依赖
- 任何 Linux 发行版都能运行
- 不需要安装任何东西

### 缺点
- 打包复杂，需要下载额外工具
- 文件很大（150-250MB）
- 首次启动较慢

### 使用方法
```bash
./build-appimage.sh
# 生成：pdf-retypeset-1.0.0-x86_64.AppImage (~150-250MB)
```

---

## 方案3：源码+安装脚本（最灵活）

### 优点
- 文件最小
- 用户可以看到源码
- 适合开发者

### 缺点
- 需要用户手动安装依赖
- 对非技术用户不友好

### 使用方法
```bash
# 直接使用源码
python3 -m src.main --gui

# 或创建安装脚本
./install.sh  # 自动安装依赖和运行
```

---

## 推荐方案

### 对于普通用户：**PyInstaller**
```bash
cd /home/wu/桌面/pdf-retypeset
./build.sh
```

优点：简单快速，文件适中

### 对于完全离线环境：**AppImage**
```bash
cd /home/wu/桌面/pdf-retypeset
./build-appimage.sh
```

优点：完全独立，无需安装任何依赖

### 对于开发者：**源码分发**
直接发布 GitHub 仓库，用户可以：
```bash
git clone https://github.com/xxx/pdf-retypeset
cd pdf-retypeset
pip install -r requirements.txt
python3 -m src.main --gui
```

---

## 我的建议

**先用 PyInstaller 打包**，因为：
1. ✅ 简单快速
2. ✅ 文件大小适中
3. ✅ 大多数 Linux 用户都能安装系统依赖
4. ✅ 如果用户真的需要 AppImage，再打包也不迟

**同时把源码推到 GitHub**，这样：
1. ✅ 开源分享
2. ✅ 用户可以选择自己想要的方案
3. ✅ 便于持续维护和更新

你觉得呢？
